{"version":3,"file":"static/js/272.9c66bb71.chunk.js","mappings":"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","sources":["api.js","components/Loader/Loader.js","webpack://react-homework-template/./src/pages/MovieDetails/movie-details.module.css?13a9","pages/MovieDetails/MovieDetails.js"],"sourcesContent":["import axios from 'axios'\n\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3'\nconst API_KEY = '177f83f5259c7f846e561f4715bd03a4'\n\n\nexport const getTrending = async () => { \n    try {\n        const response = await axios.get(`./trending/movie/day?api_key=${API_KEY}`)\n        return response.data\n    } catch (error) {\n        console.log(error)\n    }    \n}\n\nexport const searchMovies = async (query) => { \n    try {\n        const response = await axios.get(`./search/movie?api_key=${API_KEY}&query=${query}`)\n        return response.data\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nexport const getMovieDetails = async (id) => { \n    try {\n        const response = await axios.get(`./movie/${id}?api_key=${API_KEY}`)\n        return response.data\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nexport const getMovieCredits = async (movie_id) => { \n    try {\n        const response = await axios.get(`./movie/${movie_id}/credits?api_key=${API_KEY}`)\n        return response.data.cast\n    } catch (error) {\n        console.log(error)\n    }\n}\n\nexport const getMovieReviews = async (movie_id) => { \n    try {\n        const response = await axios.get(`./movie/${movie_id}/reviews?api_key=${API_KEY}`)\n        return response.data.results\n    } catch (error) {\n        console.log(error)\n    }\n}\n\n\n\n\n\n","import React from 'react';\nimport { BallTriangle } from 'react-loader-spinner';\n\nconst Loader = () => {\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n      }}\n    >\n      <BallTriangle\n        height={100}\n        width={100}\n        radius={5}\n        color=\"#4fa94d\"\n        ariaLabel=\"ball-triangle-loading\"\n        wrapperClass={{}}\n        wrapperStyle=\"\"\n        visible={true}\n      />\n    </div>\n  );\n};\n\nexport default Loader;","// extracted by mini-css-extract-plugin\nexport default {\"card\":\"movie-details_card__EfA9j\",\"cardInfo\":\"movie-details_cardInfo__Ww3B+\",\"back\":\"movie-details_back__at5VP\",\"cardContainer\":\"movie-details_cardContainer__bKNBD\",\"buttContainer\":\"movie-details_buttContainer__3YAAD\",\"castReview\":\"movie-details_castReview__e5bbp\"};","import { getMovieDetails } from 'api';\nimport { useState, useEffect } from 'react';\nimport { useParams, Link, Outlet, useLocation } from 'react-router-dom';\nimport { Suspense } from 'react';\nimport css from './movie-details.module.css';\nimport { IoArrowBackCircle } from 'react-icons/io5'\nimport Loader from '../../components/Loader/Loader'\n\n\nconst MovieDetails = () => {\n  const { id } = useParams();\n  const [movie, setMovie] = useState([]);\n  const location = useLocation();\n  const backLink = location.state?.from ?? '/';\n  const [error, setError] = useState('');\n  const [loader, setLoader] = useState(false);\n\n  useEffect(() => {\n    async function getFilms() {\n      try {\n        setLoader(true)\n        const response = await getMovieDetails(id);\n        if (response.length !== 0) {\n          setMovie(response);\n        } else {\n          throw new Error('Sorry, try again later.');\n        }\n        \n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoader(false);\n      }\n    }\n    getFilms();\n  }, [id]);\n\n  const date = new Date(movie.release_date).getFullYear();\n  const score = Math.round(movie.vote_average * 10);\n  //console.log(location)\n  return (\n    <div className={css.cardContainer }>\n      \n      <Link to={backLink} className={css.back}><IoArrowBackCircle size={30 }/>Back</Link>\n      <div className={css.card}>\n        {error && <p>{error.message}</p>}\n      {loader && <Loader />}\n        <div>\n          \n        <img          \n          src={movie.poster_path ? `https://image.tmdb.org/t/p/w500${movie.poster_path}` : \"https://weblinks.ru/wp-content/uploads/2021/07/1-14.jpg\"}\n          alt={movie.title}\n          \n        /> </div>\n        <div className={css.cardInfo}>\n          <h1>\n            {movie.title} ({date})\n          </h1>\n          <p>User score: {score}%</p>\n          <p>Overwiew: {movie.overview} </p>\n          <p>\n            Genres:{' '}\n            {movie.genres && movie.genres.map(({ name }) => name).join(', ')}\n          </p>\n        </div>\n      </div>\n      <div className={css.buttContainer}>\n      <Link to=\"cast\" className={css.castReview} state={{from: backLink }}>Cast</Link>\n        <Link to=\"reviews\" className={css.castReview} state={{from: backLink }}>Reviews</Link>\n        </div>\n      <Suspense fallback={<div>Loading subpage...</div>}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\n\n\nexport default MovieDetails\n"],"names":["axios","API_KEY","getTrending","response","data","console","log","searchMovies","query","getMovieDetails","id","getMovieCredits","movie_id","cast","getMovieReviews","results","style","display","justifyContent","alignItems","height","width","radius","color","ariaLabel","wrapperClass","wrapperStyle","visible","useParams","useState","movie","setMovie","backLink","useLocation","state","from","error","setError","loader","setLoader","useEffect","length","Error","getFilms","date","Date","release_date","getFullYear","score","Math","round","vote_average","className","css","to","size","message","Loader","src","poster_path","alt","title","overview","genres","map","name","join","Suspense","fallback"],"sourceRoot":""}